<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>Ù…ØªØ¬Ø± Ø§Ù„Ø¯ÙˆØ§Ø¬Ù†</title>

<style>
:root{
  --main:#4CAF50;
}
body{
  margin:0;
  font-family:sans-serif;
  direction:rtl;
  background:#f5f5f5;
}
header{
  background:var(--main);
  color:#fff;
  padding:15px;
  text-align:center;
}
button{
  background:var(--main);
  color:#fff;
  border:none;
  padding:8px 12px;
  cursor:pointer;
  border-radius:5px;
}
input{
  padding:8px;
  margin:5px 0;
  width:100%;
}
.container{
  padding:15px;
}
.products{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(180px,1fr));
  gap:10px;
}
.card{
  background:#fff;
  padding:10px;
  border-radius:8px;
  text-align:center;
}
.card img{
  max-width:100%;
  border-radius:5px;
}
.admin{
  background:#fff;
  padding:15px;
  margin-top:20px;
  border-radius:10px;
}
.hide{display:none;}
</style>
</head>

<body>

<header>
  <h1 id="siteName">ğŸ” Ù…ØªØ¬Ø± Ø§Ù„Ø¯ÙˆØ§Ø¬Ù†</h1>
  <button onclick="showLogin()">Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©</button>
</header>

<div class="container">

<!-- Ø§Ù„Ù…ØªØ¬Ø± -->
<div id="shop">
  <div class="products" id="products"></div>
</div>

<!-- ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ -->
<div id="login" class="hide admin">
  <h3>Ø¯Ø®ÙˆÙ„ Ø§Ù„Ù…Ø¯ÙŠØ±</h3>
  <input id="user" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…">
  <input id="pass" type="password" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±">
  <button onclick="login()">Ø¯Ø®ÙˆÙ„</button>
</div>

<!-- Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… -->
<div id="admin" class="hide admin">

<h3>â• Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬</h3>
<input id="pname" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬">
<input id="pprice" placeholder="Ø§Ù„Ø³Ø¹Ø±">
<input id="pimg" placeholder="Ø±Ø§Ø¨Ø· ØµÙˆØ±Ø© Ø§Ù„Ù…Ù†ØªØ¬">
<button onclick="addProduct()">Ø¥Ø¶Ø§ÙØ©</button>

<hr>

<h3>ğŸ¨ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…ÙˆÙ‚Ø¹</h3>
<input id="newName" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…ÙˆÙ‚Ø¹">
<input type="color" id="newColor">
<button onclick="saveSettings()">Ø­ÙØ¸</button>

<hr>

<h3>ğŸ‘¤ Ø¥Ø¶Ø§ÙØ© Ù…Ø¯ÙŠØ±</h3>
<input id="newUser" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…">
<input id="newPass" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±">
<button onclick="addAdmin()">Ø¥Ø¶Ø§ÙØ© Ù…Ø¯ÙŠØ±</button>

<button onclick="logout()">ØªØ³Ø¬ÙŠÙ„ Ø®Ø±ÙˆØ¬</button>

</div>
</div>

<script>
// Ø¨ÙŠØ§Ù†Ø§Øª Ø£ÙˆÙ„ÙŠØ©
if(!localStorage.admins){
  localStorage.admins = JSON.stringify([
    {u:"admin",p:"1234"}
  ]);
}
if(!localStorage.products){
  localStorage.products = JSON.stringify([]);
}
if(!localStorage.settings){
  localStorage.settings = JSON.stringify({
    name:"ğŸ” Ù…ØªØ¬Ø± Ø§Ù„Ø¯ÙˆØ§Ø¬Ù†",
    color:"#4CAF50"
  });
}

// ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
const settings = JSON.parse(localStorage.settings);
document.documentElement.style.setProperty("--main",settings.color);
siteName.innerText=settings.name;

// Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
function loadProducts(){
  products.innerHTML="";
  JSON.parse(localStorage.products).forEach((p,i)=>{
    products.innerHTML+=`
    <div class="card">
      <img src="${p.img}">
      <h4>${p.name}</h4>
      <p>${p.price} Ø¯ÙŠÙ†Ø§Ø±</p>
      ${isAdmin?`<button onclick="del(${i})">Ø­Ø°Ù</button>`:""}
    </div>`;
  });
}
let isAdmin=false;
loadProducts();

// ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
function showLogin(){
  login.classList.remove("hide");
}
function login(){
  const admins=JSON.parse(localStorage.admins);
  const ok=admins.find(a=>a.u==user.value && a.p==pass.value);
  if(ok){
    isAdmin=true;
    login.classList.add("hide");
    admin.classList.remove("hide");
    loadProducts();
  }else alert("Ø®Ø·Ø£ Ø¨Ø§Ù„Ø¯Ø®ÙˆÙ„");
}

// Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬
function addProduct(){
  const arr=JSON.parse(localStorage.products);
  arr.push({name:pname.value,price:pprice.value,img:pimg.value});
  localStorage.products=JSON.stringify(arr);
  loadProducts();
}

// Ø­Ø°Ù Ù…Ù†ØªØ¬
function del(i){
  const arr=JSON.parse(localStorage.products);
  arr.splice(i,1);
  localStorage.products=JSON.stringify(arr);
  loadProducts();
}

// Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…ÙˆÙ‚Ø¹
function saveSettings(){
  localStorage.settings=JSON.stringify({
    name:newName.value,
    color:newColor.value
  });
  location.reload();
}

// Ø¥Ø¶Ø§ÙØ© Ù…Ø¯ÙŠØ±
function addAdmin(){
  const arr=JSON.parse(localStorage.admins);
  arr.push({u:newUser.value,p:newPass.value});
  localStorage.admins=JSON.stringify(arr);
  alert("ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø¯ÙŠØ±");
}

// Ø®Ø±ÙˆØ¬
function logout(){
  isAdmin=false;
  admin.classList.add("hide");
  loadProducts();
}
</script>

</body>
</html>
