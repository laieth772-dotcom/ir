<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ù…Ù†ØµØ© Ø¯ÙˆØ§Ø¬Ù† Ø§Ù„Ø¹Ø±Ø§Ù‚ | Dajaj Market</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        :root { --font-cairo: 'Cairo', sans-serif; }
        body { font-family: var(--font-cairo); background-color: #f8fafc; scroll-behavior: smooth; }
        .page { display: none; }
        .page.active { display: block; animation: fadeIn 0.4s ease; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body>

    <nav id="site-header" class="p-4 sticky top-0 z-50 shadow-md flex justify-between items-center text-white transition-all duration-500">
        <div class="flex items-center gap-2 cursor-pointer" onclick="showPage('home')">
            <span class="text-2xl">ğŸ”</span>
            <h1 id="site-name" class="text-xl font-bold">Ù…ØªØ¬Ø± Ø§Ù„Ø¯ÙˆØ§Ø¬Ù†</h1>
        </div>
        <div class="flex gap-4 font-bold text-sm">
            <button onclick="showPage('products')" class="hover:underline">Ø§Ù„Ù…ØªØ¬Ø±</button>
            <button onclick="showPage('admin')" class="bg-yellow-500 text-black px-4 py-1 rounded-full shadow-sm">Ù„ÙˆØ­Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©</button>
        </div>
    </nav>

    <div id="home" class="page active">
        <div id="hero-section" class="py-24 text-center px-6 text-white shadow-inner">
            <h2 id="hero-title" class="text-4xl font-extrabold mb-4 leading-tight italic">Ø£ÙØ¶Ù„ Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ø¯ÙˆØ§Ø¬Ù†</h2>
            <p id="hero-desc" class="text-lg opacity-90 mb-8 max-w-lg mx-auto font-light text-white">Ù†ÙˆÙØ± Ù„ÙƒÙ… Ø£Ø¬ÙˆØ¯ Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„ØµÙŠØµØ§Ù† ÙˆØ§Ù„Ø£Ø¹Ù„Ø§Ù ÙˆÙ…Ø³ØªÙ„Ø²Ù…Ø§Øª Ø§Ù„Ù…Ø²Ø§Ø±Ø¹</p>
            <button onclick="showPage('products')" class="bg-white text-gray-900 px-10 py-3 rounded-full font-bold text-lg shadow-xl hover:scale-105 transition-all">ØªØµÙØ­ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ø¢Ù†</button>
        </div>
        
        <div class="container mx-auto py-12 px-4 grid grid-cols-2 md:grid-cols-3 gap-6 text-center">
            <div class="bg-white p-8 rounded-3xl shadow-sm border border-gray-100 border-b-4 border-green-600">
                <h4 id="p-count" class="text-3xl font-bold text-green-700">0</h4>
                <p class="text-sm text-gray-500 font-bold">Ù…Ù†ØªØ¬ Ù…ØªØ§Ø­ Ø­Ø§Ù„ÙŠØ§Ù‹</p>
            </div>
            <div class="bg-white p-8 rounded-3xl shadow-sm border border-gray-100 border-b-4 border-yellow-500 col-span-2 md:col-span-1">
                <h4 class="text-3xl font-bold text-yellow-600">ğŸ‡®ğŸ‡¶</h4>
                <p class="text-sm text-gray-500 font-bold italic">Ø¯Ø¹Ù… Ø§Ù„Ø§Ù‚ØªØµØ§Ø¯ Ø§Ù„Ø¹Ø±Ø§Ù‚ÙŠ</p>
            </div>
        </div>
    </div>

    <div id="products" class="page container mx-auto py-10 px-4">
        <h2 class="text-2xl font-bold mb-8 text-green-900 border-r-4 border-green-600 pr-3 italic underline">Ø§Ù„Ø³ÙˆÙ‚ Ø§Ù„Ù…ÙØªÙˆØ­ ğŸ›’</h2>
        <div id="items-grid" class="grid grid-cols-1 md:grid-cols-3 gap-6">
            </div>
    </div>

    <div id="admin" class="page container mx-auto py-10 px-4">
        <div class="max-w-4xl mx-auto bg-white p-8 rounded-3xl shadow-2xl border relative overflow-hidden">
            <h3 class="text-2xl font-bold mb-8 text-green-800 text-center border-b pb-4">Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„Ù…Ø±ÙƒØ²ÙŠØ©</h3>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-10">
                <div class="space-y-4 p-5 bg-gray-50 rounded-2xl border border-gray-200">
                    <p class="font-bold text-blue-700 underline mb-2 italic">âš™ï¸ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© (Settings)</p>
                    <input id="set-name" type="text" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…ÙˆÙ‚Ø¹" class="w-full p-3 border rounded-xl outline-none focus:ring-2 ring-blue-500">
                    <input id="set-title" type="text" placeholder="Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ØªØ±Ø­ÙŠØ¨ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ" class="w-full p-3 border rounded-xl">
                    <input id="set-desc" type="text" placeholder="ÙˆØµÙ Ø§Ù„Ù…ÙˆÙ‚Ø¹" class="w-full p-3 border rounded-xl">
                    <input id="set-color" type="color" class="w-full h-12 rounded-xl cursor-pointer">
                    <button onclick="updateSettings()" class="w-full bg-blue-600 text-white py-3 rounded-xl font-bold shadow-md">ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©</button>
                </div>

                <div class="space-y-4 p-5 bg-gray-50 rounded-2xl border border-gray-200">
                    <p class="font-bold text-green-700 underline mb-2 italic">ğŸ“¦ Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬ (Product)</p>
                    <input id="p-name" type="text" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬" class="w-full p-3 border rounded-xl outline-none focus:ring-2 ring-green-600">
                    <input id="p-price" type="number" placeholder="Ø§Ù„Ø³Ø¹Ø± (IQD)" class="w-full p-3 border rounded-xl text-left">
                    <input id="p-img" type="text" placeholder="Ø±Ø§Ø¨Ø· ØµÙˆØ±Ø© Ø§Ù„Ù…Ù†ØªØ¬" class="w-full p-3 border rounded-xl">
                    <button onclick="saveItem('p_db', ['p-name', 'p-price', 'p-img'])" class="w-full bg-green-700 text-white py-3 rounded-xl font-bold shadow-md">Ù†Ø´Ø± ÙÙŠ Ø§Ù„Ù…ØªØ¬Ø±</button>
                </div>
            </div>
            
            <button onclick="localStorage.clear(); location.reload();" class="w-full text-red-500 text-xs mt-10 underline text-center block opacity-40 italic">Ø­Ø°Ù ÙƒØ§ÙØ© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØ§Ù„Ø¨Ø¯Ø¡ Ù…Ù† Ø¬Ø¯ÙŠØ¯</button>
        </div>
    </div>

    <footer class="py-12 mt-20 text-center bg-gray-900 text-white">
        <p id="foot-name" class="text-sm font-bold mb-2 italic">Ù…Ù†ØµØ© Ø¯ÙˆØ§Ø¬Ù† Ø§Ù„Ø¹Ø±Ø§Ù‚</p>
        <p class="text-xs opacity-50 font-light italic">Ù…Ø´Ø±ÙˆØ¹ ØªØ·ÙˆÙŠØ± Ù„Ø¬Ù…Ø¹ Ø§Ù„Ù…Ø§Ù„ Ù„Ù„Ø²ÙˆØ§Ø¬ 2026</p>
    </footer>

    <script>
        // Ù†Ø¸Ø§Ù… Ø§Ù„ØªÙ†Ù‚Ù„ ÙˆØ§Ù„Ù€ State Ù…Ø¯Ù…Ø¬ Ù…Ù† ÙƒÙ„ Ø§Ù„Ø£ÙƒÙˆØ§Ø¯ Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©
        function showPage(id) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            window.scrollTo(0, 0);
            render();
        }

        function updateSettings() {
            const settings = {
                name: document.getElementById('set-name').value,
                title: document.getElementById('set-title').value,
                desc: document.getElementById('set-desc').value,
                color: document.getElementById('set-color').value
            };
            localStorage.setItem('site_settings_v2', JSON.stringify(settings));
            alert("ØªÙ… ØªØ­Ø¯ÙŠØ« Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…Ù†ØµØ© Ø¨Ù†Ø¬Ø§Ø­!");
            render();
        }

        function saveItem(dbKey, ids) {
            let item = {};
            ids.forEach(id => {
                item[id] = document.getElementById(id).value;
                document.getElementById(id).value = ''; 
            });
            if (!item[ids[0]] || !item[ids[1]]) return alert("ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©!");
            let data = JSON.parse(localStorage.getItem(dbKey) || '[]');
            data.push(item);
            localStorage.setItem(dbKey, JSON.stringify(data));
            alert("ØªÙ… Ø§Ù„Ù†Ø´Ø± Ø¨Ù†Ø¬Ø§Ø­ ÙÙŠ Ø§Ù„Ù…ØªØ¬Ø±!");
            render();
        }

        function render() {
            // ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ù€ Schema Ø§Ù„Ø®Ø§ØµØ© Ø¨Ù€ Site Settings
            const settings = JSON.parse(localStorage.getItem('site_settings_v2') || '{"name":"Ù…ØªØ¬Ø± Ø§Ù„Ø¯ÙˆØ§Ø¬Ù†","title":"Ø£ÙØ¶Ù„ Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ø¯ÙˆØ§Ø¬Ù†","desc":"Ù†ÙˆÙØ± Ù„ÙƒÙ… Ø£Ø¬ÙˆØ¯ Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„ØµÙŠØµØ§Ù† ÙˆØ§Ù„Ø£Ø¹Ù„Ø§Ù ÙˆÙ…Ø³ØªÙ„Ø²Ù…Ø§Øª Ø§Ù„Ù…Ø²Ø§Ø±Ø¹","color":"#16a34a"}');
            document.getElementById('site-name').innerText = settings.name;
            document.getElementById('foot-name').innerText = settings.name;
            document.getElementById('hero-title').innerText = settings.title;
            document.getElementById('hero-desc').innerText = settings.desc;
            document.getElementById('site-header').style.backgroundColor = settings.color;
            document.getElementById('hero-section').style.backgroundColor = settings.color;

            // ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ù€ Schema Ø§Ù„Ø®Ø§ØµØ© Ø¨Ù€ Products
            const ps = JSON.parse(localStorage.getItem('p_db') || '[]');
            document.getElementById('p-count').innerText = ps.length;

            const grid = document.getElementById('items-grid');
            if(ps.length === 0) {
                grid.innerHTML = '<div class="col-span-full text-center py-20 text-gray-400 italic">Ø§Ù„Ø³ÙˆÙ‚ ÙØ§Ø±Øº Ø­Ø§Ù„ÙŠØ§Ù‹.. Ø£Ø¶Ù Ø£ÙˆÙ„ Ù…Ù†ØªØ¬ Ù…Ù† Ù„ÙˆØ­Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©!</div>';
                return;
            }
            grid.innerHTML = ps.map(p => `
                <div class="bg-white rounded-3xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-xl transition-all duration-300">
                    <img src="${p['p-img'] || 'https://via.placeholder.com/400x250?text=Product'}" class="w-full h-52 object-cover bg-gray-100">
                    <div class="p-6 text-center">
                        <h4 class="font-bold text-xl mb-1 text-gray-800">${p['p-name']}</h4>
                        <p class="text-green-700 font-black text-2xl mb-4">${Number(p['p-price']).toLocaleString()} <span class="text-xs font-bold italic">Ø¯.Ø¹</span></p>
                        <button onclick="window.location.href='https://wa.me/9647800000000?text=Ø£Ø±ÙŠØ¯ Ø·Ù„Ø¨ Ù…Ù†ØªØ¬: ${p['p-name']}'" class="w-full bg-green-50 text-green-700 py-3 rounded-2xl font-bold border border-green-100 hover:bg-green-600 hover:text-white transition-all">Ø§Ø·Ù„Ø¨ Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨</button>
                    </div>
                </div>
            `).join('');
        }
        window.onload = render;
    </script>
</body>
</html>
